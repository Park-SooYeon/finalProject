<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd"
>
<mapper namespace="hotel">
	<select id="select" resultType="bean.PlaceVo">
		SELECT p.photo_name ,h.place_name, h.place_location, h.place_tel, (
			SELECT count(r.rooms_serial) cnt
			FROM ROOMS r JOIN PLACE p
			ON r.PLACE_SERIAL = p.PLACE_SERIAL
		) room_cnt, h.state
		FROM PLACE h LEFT OUTER JOIN PLACE_PHOTO p 
		ON h.place_serial = p.place_serial 
		WHERE place_code=4
	</select>	

</mapper>