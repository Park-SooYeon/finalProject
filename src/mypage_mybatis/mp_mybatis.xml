<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTDMapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mypage">
	
	<insert id="insert_trip" parameterType="mypage_mybatis.TripListVo">
		insert into trip_list(trip_list_serial, member_id, trip_name, days_count, start_date, end_date, trip_auth, trip_date) 
		values(seq_trip_list.nextval, #{member_id}, #{trip_name}, ${days_count}, #{start_date}, #{end_date}, ${trip_auth}, sysdate)
	</insert>
	
	<select id="select_trip" resultType="mypage_mybatis.TripListVo">
		select trip_list_serial, member_id, trip_name, days_count, start_date, end_date, trip_auth, to_char(trip_date,'rrrr-mm-dd') trip_date from trip_list
	</select>
	
	<select id="view_trip" parameterType="Integer" resultType="mypage_mybatis.TripListVo">
		select 	trip_list_serial, 
				member_id, 
				trip_name, 
				days_count, 
				start_date, 
				end_date, 
				trip_auth, 
				to_char(trip_date,'rrrr-mm-dd') trip_date 
				from trip_list 
		where trip_list_serial = ${_parameter}
	</select>
</mapper>